# Helix Gateway Environment Configuration
# Copy this file to .env and adjust values as needed

# =============================================================================
# Server Configuration
# =============================================================================

# HTTP server bind address
LISTEN_ADDR=0.0.0.0:8080

# HTTP request timeout in milliseconds (applied via tower-http TimeoutLayer)
REQUEST_TIMEOUT_MS=30000

# =============================================================================
# gRPC Backend Configuration
# =============================================================================

# gRPC backend service address
BACKEND_ADDR=http://127.0.0.1:50051

# Connection establishment timeout in milliseconds
GRPC_CONNECT_TIMEOUT_MS=5000

# Per-request timeout in milliseconds
GRPC_REQUEST_TIMEOUT_MS=30000

# TCP keepalive interval in seconds (detects dead connections)
GRPC_TCP_KEEPALIVE_SECS=60

# HTTP/2 keepalive ping interval in seconds (sends pings to keep connection alive)
GRPC_HTTP2_KEEPALIVE_INTERVAL_SECS=60

# HTTP/2 keepalive ping timeout in seconds (how long to wait for ping response)
GRPC_HTTP2_KEEPALIVE_TIMEOUT_SECS=20

# Enable HTTP/2 adaptive flow control window for better throughput (true/false)
GRPC_HTTP2_ADAPTIVE_WINDOW=true

# =============================================================================
# Embedding Providers (optional, only needed if using embeddings)
# =============================================================================

# OpenAI API key (for text-embedding-3-large, text-embedding-3-small, text-embedding-ada-002)
# OPENAI_API_KEY=sk-...

# Azure OpenAI configuration
# AZURE_OPENAI_API_KEY=...
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com

# Google Gemini API key (for embedding-001)
# GEMINI_API_KEY=...

# =============================================================================
# Logging Configuration
# =============================================================================

# Rust log level filter (see tracing-subscriber docs)
# Examples: debug, info, warn, error, helix_gateway=debug,tower_http=info
RUST_LOG=helix_gateway=info
